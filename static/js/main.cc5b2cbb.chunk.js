(this["webpackJsonpctap-samplecode-generation"]=this["webpackJsonpctap-samplecode-generation"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),i=n.n(c),r=n(12),o=n.n(r),s=n(57),l=(n(94),n(13)),d=(n(95),n(58)),u=n.n(d),p=n(33),h=n(71),f=n(17),j=n(7),b=n(15),g=n(153),O=n(138),m=n(141),C=n(151),x=n(157),_=n(156),v=n(150),T=n(158),R=n(152),y=n(143),S=n(154),k=["chanlocs128_biosemi.elp","chanlocs128_biosemi_withEOG.elp","chanlocs128_cent.elp","chanlocs128_pist.elp","chanlocs160_biosemi.elp","chanlocs16_biosemi.elp","chanlocs16_biosemi_withEOG.elp","chanlocs256_biosemi.elp","chanlocs256_biosemi_withEOG.elp","chanlocs32_biosemi.elp","chanlocs64_biosemi.elp","chanlocs64_biosemi_withEOG.elp","channel_locations_acticap_32.ced"],A=Object(O.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"35ch"}},words:{textAlign:"center"}}})),E=function(e){var t=e.inputValue,n=e.setBasicInfoInput,i=e.basicInfoInputCheck,r=e.setBasicInfoInputCheck,o=A(),s=Object(c.useState)(t.eegChanloc),l=Object(b.a)(s,2),d=l[0],u=l[1];Object(c.useEffect)((function(){n(Object(j.a)(Object(j.a)({},t),{},{eegChanloc:d})),r(Object(j.a)(Object(j.a)({},i),{},{eegChanloc:!1}))}),[d]);var p=function(e){var a=e.target,c=a.name,o=a.value;n(Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},c,o))),r(Object(j.a)(Object(j.a)({},i),{},Object(f.a)({},c,!1)))},h=function(e){"checkedLinear"===e.target.name?n(Object(j.a)(Object(j.a)({},t),{},{checkedLinear:e.target.checked,checkedBranch:!e.target.checked})):"checkedBranch"===e.target.name?n(Object(j.a)(Object(j.a)({},t),{},{checkedBranch:e.target.checked,checkedLinear:!e.target.checked})):n(Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},e.target.name,e.target.checked)))},g=function(e){if(console.log(e.target.name),"checkTimeRange"===e.target.name){var a={};a=Object(j.a)(Object(j.a)({},a),{},{HydraOptionA:e.target.checked,HydraOptionB:!e.target.checked}),e.target.checked&&(console.log(e.target.checked),a=Object(j.a)(Object(j.a)({},a),{},{checkHydraCleanSeed:""}),r(Object(j.a)(Object(j.a)({},i),{},{checkHydraCleanSeed:!1}))),n(Object(j.a)(Object(j.a)({},t),a))}else{var c={};c=Object(j.a)(Object(j.a)({},c),{},{HydraOptionB:e.target.checked,HydraOptionA:!e.target.checked}),e.target.checked&&(console.log(t),c=Object(j.a)(Object(j.a)({},c),{},{checkHydraTimeRange:""}),r(Object(j.a)(Object(j.a)({},i),{},{checkHydraTimeRange:!1}))),n(Object(j.a)(Object(j.a)({},t),c))}};return Object(a.jsxs)("form",{className:o.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsxs)(m.a,{maxWidth:"sm",children:[Object(a.jsx)("h4",{children:"What type of pipeline* you would like to generate?"}),Object(a.jsx)(y.a,{control:Object(a.jsx)(S.a,{checked:t.checkedLinear,onChange:h,name:"checkedLinear"}),label:"Linear Pipeline"}),Object(a.jsx)(y.a,{control:Object(a.jsx)(S.a,{checked:t.checkedBranch,onChange:h,name:"checkedBranch"}),label:"Branch Pipeline"}),Object(a.jsx)("h5",{className:o.words,children:"* linear pipeline using different setpSets to group CTAP functions, the processing sequence depends on setpSets order. Branch pipeline generates sub-functions including predefined executable CTAP functions, which provides a more clear and flexible modular way to group functions. "}),Object(a.jsxs)("div",{children:[Object(a.jsx)(y.a,{control:Object(a.jsx)(S.a,{checked:t.checkedHYDRA,onChange:h,name:"checkedHYDRA"}),label:"Implementing HYDRA for artifacts parameter optimization or not?"}),t.checkedHYDRA?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(y.a,{control:Object(a.jsx)(S.a,{checked:t.HydraOptionA,onChange:g,name:"checkTimeRange"}),label:"Provide clean data time-range"}),Object(a.jsx)(y.a,{control:Object(a.jsx)(S.a,{checked:t.HydraOptionB,onChange:g,name:"checkCleanSeed"}),label:"Provide clean seed data"}),t.HydraOptionA?Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{error:i.checkHydraTimeRange,id:"checkHydraTimeRange",name:"checkHydraTimeRange",label:"Time Range",value:t.checkHydraTimeRange,onChange:function(e){return p(e)},type:"text",helperText:i.checkHydraTimeRange?"The field cannot be empty. Please enter a value":"Set clean segment time range [start end] in seconds from test data",variant:"outlined"})}):null,t.HydraOptionB?Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{error:i.checkHydraCleanSeed,id:"checkHydraTimeRange",name:"checkHydraCleanSeed",label:"Seed Data Name",value:t.checkHydraCleanSeed,onChange:function(e){return p(e)},type:"text",helperText:i.checkHydraCleanSeed?"The field cannot be empty. Please enter a value":"Name of the clean seed data file extract from test data",variant:"outlined"})}):null]})}):null,Object(a.jsx)("hr",{})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Basic setting begin"}),Object(a.jsx)(T.a,{error:i.pipelineName,id:"pipelineName",name:"pipelineName",label:"Pipeline Name",value:t.pipelineName,onChange:function(e){return p(e)},type:"text",helperText:i.pipelineName?"The field cannot be empty. Please enter a value":"Name a folder which contains outputs of pipes",variant:"outlined"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{error:i.projectRoot,id:"projectRoot",name:"projectRoot",label:"Project Root",value:t.projectRoot,onChange:function(e){return p(e)},type:"text",helperText:i.projectRoot?"The field cannot be empty. Please enter a value":"The root directory of the current analysis.",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{error:i.sbj_filt,id:"sbj_filt",name:"sbj_filt",label:"EEG File Name Sequence",value:t.sbj_filt,onChange:function(e){return p(e)},type:"text",helperText:i.sbj_filt?"The field cannot be empty. Please enter a value":"The unique sequence number in EEG dataset name(sbj_filt)",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{error:i.eegType,id:"eegType",name:"eegType",label:"EEG Data Type",value:t.eegType,onChange:function(e){return p(e)},type:"text",helperText:i.eegType?"The field cannot be empty. Please enter a value":"EEG Data Type, eg, *.set/*.bdf",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(R.a,{value:t.eegChanloc,onChange:function(e,t){u(t)},id:"controllable-states-demo",options:k,renderInput:function(e){return Object(a.jsx)(T.a,Object(j.a)(Object(j.a)({},e),{},{error:i.eegChanloc,helperText:i.eegChanloc?"The field cannot be empty. Please enter a value":"Channel Location of testing EEG data ",label:"EEG Data Channel Location",variant:"outlined"}))}})}),Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{error:i.eegReference,id:"eegReference",name:"eegReference",label:"EEG Data Reference Channel",value:t.eegReference,onChange:function(e){return p(e)},type:"text",helperText:i.eegReference?"The field cannot be empty. Please enter a value":"Reference channel of testing EEG data,  eg, {'L_MASTOID' 'R_MASTOID'}",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{error:i.eegVeogChannelNames,id:"eegVeogChannelNames",name:"eegVeogChannelNames",label:"VEOG Channel Names",value:t.eegVeogChannelNames,onChange:function(e){return p(e)},type:"text",helperText:i.eegVeogChannelNames?"The field cannot be empty. Please enter a value":"VEOG Channel Names of testing EEG data, required if performing blinks detection, eg, {'VEOG1','VEOG2'}",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{error:i.eegHeogChannelNames,id:"eegHeogChannelNames",name:"eegHeogChannelNames",label:"HEOG Channel Names",value:t.eegHeogChannelNames,onChange:function(e){return p(e)},type:"text",helperText:i.eegHeogChannelNames?"The field cannot be empty. Please enter a value":"HEOG Channel Names of testing EEG data, required if performing blinks detection, eg, {'HEOG1','HEOG2'}",variant:"outlined"})})]})},H=function(e,t){var n=new Array([]),a=new Array([]),c=new Array([]);return e.checkedHYDRA&&(c.push("HYDRA = true;"),c.push("PARAM = param_sweep_setup(project_dir);"),c.push("Cfg.HYDRA.ifapply = HYDRA;"),c.push("Cfg.HYDRA.chanloc = '".concat(e.eegChanloc,"';")),c.push("Cfg.HYDRA.PARAM = PARAM;"),c.push("Cfg.HYDRA.FULL_CLEAN_SEED = false;"),e.checkHydraTimeRange&&!e.checkHydraCleanSeed?(c.push("Cfg.HYDRA.provide_seed_timerange = true;"),c.push("Cfg.HYDRA.cleanseed_timerange = ".concat(e.checkHydraTimeRange,";"))):e.checkHydraCleanSeed&&!e.checkHydraTimeRange&&(c.push("Cfg.HYDRA.provide_seed_timerange = false;"),c.push("Cfg.HYDRA.seed_fname = ".concat(e.checkHydraCleanSeed,";")))),t.forEach((function(e,t){var c="";e.funcsSettings.forEach((function(e){c+="@".concat(e.funcName,", ");var t=e.funcName;t&&(t=t.slice(5,t.length)),n.push("out.".concat(t,"=struct(").concat(e.funcP,")"))})),a.push("stepSet(".concat(t+1,").id = [num2str(").concat(t+1,"), '").concat(e.stepID,"'];")),a.push("stepSet(".concat(t+1,").funH{").concat(c,"};"))})),new Array("pipeline_name = '".concat(e.pipelineName,"';"),"FILE_ROOT = mfilename('fullpath');","reporoot = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap', 'templates', '".concat(e.projectRoot,"', 'ctap_linear_template')) - 1);"),"project_dir = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap_linear_template')) - 1);","data_dir = append(reporoot,'ctap/data/test_data');","Cfg.env.paths = cfg_create_paths(project_dir, pipeline_name, {''}, 1);","Cfg.eeg.chanlocs = '".concat(e.eegChanloc,"';"),"Cfg.eeg.reference = ".concat(e.eegReference,";"),"Cfg.eeg.veogChannelNames = ".concat(e.eegVeogChannelNames,";"),"Cfg.eeg.heogChannelNames = ".concat(e.eegHeogChannelNames,";"),"Cfg.grfx.on = false;","Cfg.MC = get_meas_cfg_MC(Cfg, data_dir, 'eeg_ext', '".concat(e.eegType,"', 'sbj_filt', ").concat(e.sbj_filt,");"),"".concat(c.join("\n")),"clear Pipe;","".concat(a.join("\n")),"".concat([n.join("\n")]),"Cfg.pipe.stepSets = stepSet;","Cfg.pipe.runSets = {stepSet(1).id};","Cfg = ctap_auto_config(Cfg, out);","%% Run the pipe","CTAP_pipeline_looper(Cfg, 'debug', DEBUG, 'overwrite', true);","clear i stepSet Filt ctap_args")},P=n(5),D=n(105),N=n(4),I=n(148),L=n(149),w=n(155),B=n(73),Y=n.n(B),F=n(103),G=Object(P.a)({alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:"#784af4"}},completed:{"& $line":{borderColor:"#784af4"}},line:{borderColor:"#eaeaf0",borderTopWidth:3,borderRadius:1}})(D.a),V=Object(O.a)({root:{color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},active:{color:"#784af4"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#784af4",zIndex:1,fontSize:18}});function U(e){var t=V(),n=e.active,c=e.completed;return Object(a.jsx)("div",{className:Object(N.a)(t.root,Object(f.a)({},t.active,n)),children:c?Object(a.jsx)(Y.a,{className:t.completed}):Object(a.jsx)("div",{className:t.circle})})}var M=Object(O.a)((function(e){return{root:{width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var W=function(e){var t=e.activeStep,n=e.handleReset,c=e.handleBack,i=e.handleNext,r=M(),o=["Basic settings","Pipe config","Review and download"];return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(I.a,{alternativeLabel:!0,activeStep:t,connector:Object(a.jsx)(G,{}),children:o.map((function(e){return Object(a.jsx)(L.a,{children:Object(a.jsx)(w.a,{StepIconComponent:U,children:e})},e)}))}),Object(a.jsx)("div",{children:t===o.length?Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{className:r.instructions,children:"All steps completed - you're finished"}),Object(a.jsx)(v.a,{onClick:n,className:r.button,children:"Reset"})]}):Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{disabled:0===t,onClick:c,className:r.button,children:"Back"}),Object(a.jsx)(v.a,{variant:"contained",color:"primary",onClick:i,className:r.button,children:t===o.length-1?"Finish":"Next"})]})})})]})},q=n(144),J=n(74),z=n.n(J),$=n(75),K=n.n($),Q=[{id:Object(g.a)(),subf_srcid:"",subfID:"",stepID:"",funcsSettings:[{fid:Object(g.a)(),funcName:"",funcP:""}]}],X=function(e,t){switch(t.type){case"UPDATE_STEPSETS":return t.data;default:return e}},Z=Object(c.createContext)(Q),ee=function(e){var t=e.children,n=Object(c.useReducer)(X,Q),i=Object(b.a)(n,2),r=i[0],o=i[1];return Object(a.jsx)(Z.Provider,{value:[r,o],children:t})},te=["CTAP_load_data","CTAP_load_chanlocs","CTAP_reref_data","CTAP_blink2event","CTAP_peek_data","CTAP_fir_filter","CTAP_run_ica","CTAP_detect_bad_comps","CTAP_reject_data","CTAP_detect_bad_channels","CTAP_interp_chan","CTAP_detect_bad_segments"],ne=function(e){var t=e.indexm,n=e.funcsSettings,r=e.classes,o=e.mid,s=Object(c.useContext)(Z),l=Object(b.a)(s,2),d=l[0],u=l[1],h=i.a.useState(null),O=Object(b.a)(h,2),m=(O[0],O[1]),C=function(e,t,n){var a=Object(p.a)(d),c=a.findIndex((function(e){return e.id===o})),i=a[c].funcsSettings.map((function(a){return e===a.fid&&(a[t]=n),a}));a[c].funcsSettings=i,u({type:"UPDATE_STEPSETS",data:a})};return Object(a.jsx)("form",{className:r.root,children:n.map((function(e,c){var i;return Object(a.jsxs)("div",{children:[Object(a.jsx)(R.a,(i={id:"funcName"+c,value:d[t].funcsSettings[c].funcName,onChange:function(t,n){m(n),C(e.fid,"funcName",n)}},Object(f.a)(i,"id","controllable-states-demo"),Object(f.a)(i,"options",te),Object(f.a)(i,"renderInput",(function(e){return Object(a.jsx)(T.a,Object(j.a)(Object(j.a)({},e),{},{label:"Function Name",variant:"outlined"}))})),i)),Object(a.jsx)(T.a,{id:"funcP"+c,name:"funcP",label:"Function Parameters",variant:"filled",value:d[t].funcsSettings[c].funcP,helperText:"check docs for parameters supported for each func, input in 'pName', p, eg.('method', 'fastica', 'overwrite', true). All the string input need single-quote:'input' ",onChange:function(t){return C(e.fid,t.target.name,t.target.value)}}),Object(a.jsx)(q.a,{disabled:1===n.length,onClick:function(){return function(e){var t=Object(p.a)(d),n=t.findIndex((function(e){return e.id===o})),a=t[n].funcsSettings.findIndex((function(t){return t.fid===e}));t[n].funcsSettings.splice(a,1),u({type:"UPDATE_STEPSETS",data:t})}(e.fid)},children:Object(a.jsx)(z.a,{})}),Object(a.jsx)(q.a,{onClick:function(){return function(){var e=Object(p.a)(d),t=e.findIndex((function(e){return e.id===o}));e[t].funcsSettings.push({fid:Object(g.a)(),functionName:"",functionP:""}),u({type:"UPDATE_STEPSETS",data:e})}()},children:Object(a.jsx)(K.a,{})})]},e.fid)}))})},ae=Object(O.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"50ch"}},button:{margin:e.spacing(1)}}})),ce=function(e){var t=e.handleLinearPipesInput,n=ae(),i=Object(c.useContext)(Z),r=Object(b.a)(i,2),o=r[0];r[1];return Object(a.jsx)(m.a,{maxWidth:"sm",children:Object(a.jsx)("form",{className:n.root,children:o.map((function(e,c){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h4",{children:["stepSet ",c+1]}),Object(a.jsx)(T.a,{name:"stepID",label:"stepID",variant:"filled",helperText:"describe main work in this stepSet, eg.'_load'",value:e.stepID,onChange:function(n){return t(e.id,n)}}),Object(a.jsx)(ne,{indexm:c,classes:n,mid:e.id,funcsSettings:e.funcsSettings})]},e.id)}))})})},ie=Object(O.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}}}})),re=function(e){var t=e.handleLinearPipesInput,n=ie(),i=Object(c.useContext)(Z),r=Object(b.a)(i,2),o=r[0];r[1];return Object(a.jsx)(m.a,{maxWidth:"sm",children:Object(a.jsx)("form",{className:n.root,children:o.map((function(e,c){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h4",{children:["Pipe-segment ",c+1]}),Object(a.jsx)(T.a,{name:"stepID",label:"Subfunction Description Label",variant:"filled",helperText:"describe main work in this sub function, eg.'_load'",value:e.stepID,onChange:function(n){return t(e.id,n)}}),Object(a.jsx)("h5",{children:"Define hierarchy"}),Object(a.jsx)(T.a,{name:"subfID",label:"Subfunction ID",variant:"filled",helperText:"ID of this subfunction, eg.'pipe2'",value:e.subfID,onChange:function(n){return t(e.id,n)}}),Object(a.jsx)(T.a,{name:"subf_srcid",label:"Subfunction Srcid",variant:"filled",helperText:"Describe the hierarchy relationship between other subfunction, you should input [Set Function ID] of the previously executed pipe, for example, if the current subfunc runs after pipe2, then the input should be 'pipe2', the first subfunc doesn't need this, leave it empty is ok.",value:e.subf_srcid,onChange:function(n){return t(e.id,n)}}),Object(a.jsx)("h5",{children:"Define pipeline"}),Object(a.jsx)(ne,{indexm:c,classes:n,mid:e.id,funcsSettings:e.funcsSettings})]},e.id)}))})})},oe=function(e,t){var n=new Array([]),a="",c={},i=new Array([]);return e.checkedHYDRA&&(n.push("HYDRA = true;"),n.push("PARAM = param_sweep_setup(project_dir);"),n.push("Cfg.HYDRA.ifapply = HYDRA;"),n.push("Cfg.HYDRA.chanloc = '".concat(e.eegChanloc,"';")),n.push("Cfg.HYDRA.PARAM = PARAM;"),n.push("Cfg.HYDRA.FULL_CLEAN_SEED = false;"),e.checkHydraTimeRange&&!e.checkHydraCleanSeed?(n.push("Cfg.HYDRA.provide_seed_timerange = true;"),n.push("Cfg.HYDRA.cleanseed_timerange = ".concat(e.checkHydraTimeRange,";"))):e.checkHydraCleanSeed&&!e.checkHydraTimeRange&&(n.push("Cfg.HYDRA.provide_seed_timerange = false;"),n.push("Cfg.HYDRA.seed_fname = ".concat(e.checkHydraCleanSeed,";")))),t.forEach((function(e,t){var n,r=new Array([]),o=new Array([]),s="",l="@sbf_"+e.subfID+", ";console.log(l),a+=l,0==t?(c[e.subfID]={0:"".concat(1,e.stepID),1:""},n=""):(c[e.subfID]={0:"".concat(1,e.stepID),1:"".concat(c[e.subf_srcid][1],e.subf_srcid,"#")},n="".concat(c[e.subfID][1],c[e.subf_srcid][0])),console.log(n),e.funcsSettings.forEach((function(e){s+="@".concat(e.funcName,", ");var t=e.funcName;t&&(t=t.slice(5,t.length)),o.push("out.".concat(t,"=struct(").concat(e.funcP,")"))})),r.push("stepSet(".concat(t+1,").id = [num2str(").concat(t+1,"), '").concat(e.stepID,"'];")),r.push("stepSet(".concat(t+1,").funH{").concat(s,"};")),console.log([r.join("\n")]),console.log(o);var d=new Array("function [Cfg, out] = sbf_".concat(e.subfID,"(Cfg)"),"   %%%%%%%% Define hierarchy %%%%%%%%","   Cfg.id = '".concat(e.subfID,"';"),"   Cfg.srcid = {".concat(n,"};"),"   %%%%%%%% Define pipeline %%%%%%%%","   i = 1; %stepSet 1","   ".concat(r.join("\n")),"   ","   ".concat([o.join("\n")]),"   Cfg.pipe.runSets = {stepSet(:).id};","   Cfg.pipe.stepSets = stepSet;","end");i.push("".concat(d.join("\n")))})),a="pipeArr = {".concat(a,"};"),new Array("pipeline_name = '".concat(e.pipelineName,"';"),"FILE_ROOT = mfilename('fullpath');","reporoot = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap', 'templates', '".concat(e.projectRoot,"', 'ctap_linear_template')) - 1);"),"project_dir = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap_linear_template')) - 1);","data_dir = append(reporoot,'ctap/data/test_data');","PREPRO = true;","STOP_ON_ERROR = false;","OVERWRITE_OLD_RESULTS = true;","[Cfg, ~] = sbf_cfg(project_dir, pipeline_name);","Cfg.grfx.on = false;","Cfg.MC = get_meas_cfg_MC(Cfg, data_dir, 'eeg_ext', '".concat(e.eegType,"', 'sbj_filt', ").concat(e.sbj_filt,");"),"".concat(n.join("\n")),"clear Pipe;","".concat(a),"runps = 1:length(pipeArr);","if PREPRO","   CTAP_pipeline_brancher(Cfg, pipeArr, 'runPipes', runps, 'dbg', STOP_ON_ERROR, 'ovw', OVERWRITE_OLD_RESULTS);","end","%% Subfunctions","function [Cfg, out] = sbf_cfg(project_root_folder, ID)","   Cfg.id = ID;","   Cfg.srcid = {''};","   Cfg.env.paths.projectRoot = project_root_folder;","   % Define important directories and files","   Cfg.env.paths.branchSource = '';","   Cfg.env.paths.ctapRoot = fullfile(Cfg.env.paths.projectRoot, Cfg.id);","   Cfg.env.paths.analysisRoot = Cfg.env.paths.ctapRoot;","   Cfg.eeg.chanlocs = '".concat(e.eegChanloc,"';"),"   Cfg.eeg.reference = ".concat(e.eegReference,";"),"   Cfg.eeg.veogChannelNames = ".concat(e.eegVeogChannelNames,";"),"   Cfg.eeg.heogChannelNames = ".concat(e.eegHeogChannelNames,";"),"   out = struct([]);","end","".concat(i.join("\n")))},se=Object(O.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:200},selectEmpty:{marginTop:e.spacing(2)},button:{margin:e.spacing(2)}}}));function le(){var e=se(),t=Object(c.useContext)(Z),n=Object(b.a)(t,2),i=n[0],r=n[1],o=Object(c.useState)(0),s=Object(b.a)(o,2),l=s[0],d=s[1],O=Object(c.useState)(""),T=Object(b.a)(O,2),R=T[0],y=T[1],S=Object(c.useState)(1),k=Object(b.a)(S,2),A=k[0],P=k[1],D=Object(c.useState)(!1),N=Object(b.a)(D,2),I=N[0],L=N[1],w=Object(c.useReducer)((function(e,t){return Object(j.a)(Object(j.a)({},e),t)}),{checkedLinear:!0,checkedBranch:!1,checkedHYDRA:!0,HydraOptionA:!0,HydraOptionB:!1,checkHydraTimeRange:"",checkHydraCleanSeed:"",pipelineName:"",projectRoot:"",sbj_filt:"",eegType:"",eegChanloc:"",eegReference:"",eegVeogChannelNames:"",eegHeogChannelNames:""}),B=Object(b.a)(w,2),Y=B[0],F=B[1],G=Object(c.useReducer)((function(e,t){return Object(j.a)(Object(j.a)({},e),t)}),{checkHydraTimeRange:!1,checkHydraCleanSeed:!1,pipelineName:!1,projectRoot:!1,sbj_filt:!1,eegType:!1,eegChanloc:!1,eegReference:!1,eegVeogChannelNames:!1,eegHeogChannelNames:!1}),V=Object(b.a)(G,2),U=V[0],M=V[1];Object(c.useEffect)((function(){y(""),L(!1)}),[Y.checkedLinear]),Object(c.useEffect)((function(){localStorage.getItem("basicInfoInput")&&F(JSON.parse(localStorage.getItem("basicInfoInput")))}),[]),Object(c.useEffect)((function(){localStorage.setItem("basicInfoInput",JSON.stringify(Y))}),[Y]);var q=function(e,t){var n;n=e.checkedLinear?H(e,t):oe(e,t);var a=new Blob([n.join("\n")],{type:"text/plain"});return""!==R&&window.URL.revokeObjectURL(R),window.URL.createObjectURL(a)};function J(){return z.apply(this,arguments)}function z(){return(z=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(Y,i);case 2:t=e.sent,y(t),L(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e,t){var n=i.map((function(n){return e===n.id&&(n[t.target.name]=t.target.value),n}));r({type:"UPDATE_STEPSETS",data:n})};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"CTAP Code Generation Tool"}),0===l?Object(a.jsx)(E,{inputValue:Y,setBasicInfoInput:F,basicInfoInputCheck:U,setBasicInfoInputCheck:M}):1===l?Object(a.jsxs)(m.a,{children:[Y.checkedLinear?Object(a.jsx)("h1",{children:"Linear Pipeline Setting"}):Object(a.jsx)("h1",{children:"Branch Pipeline Setting"}),Object(a.jsxs)(_.a,{variant:"outlined",className:e.formControl,children:[Object(a.jsx)(x.a,{children:"stepSet number"}),Object(a.jsx)(C.a,{native:!0,value:A,onChange:function(e){return function(e){var t=e.target,n=(t.name,t.value);if(A<n){for(var a=Object(p.a)(i),c=A;c<n;c++)a.push({id:Object(g.a)(),subf_srcid:"",subfID:"",stepID:"",funcsSettings:[{fid:Object(g.a)(),funcName:"",funcP:""}]});r({type:"UPDATE_STEPSETS",data:a}),P(n)}else if(A>n&&n>=1){console.log(n),console.log(A),console.log(i);for(var o=Object(p.a)(i),s=0;s<A-n;s++)o.pop();console.log(o),r({type:"UPDATE_STEPSETS",data:o}),P(n)}}(e)},label:"stepSet number",inputProps:{name:"stepNum"},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))})]}),Y.checkedLinear?Object(a.jsx)(ce,{handleLinearPipesInput:$,handleSubmit:J}):Object(a.jsx)(re,{handleLinearPipesInput:$,handleSubmit:J})]}):2===l?Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{className:e.button,variant:"contained",color:"primary",type:"submit",onClick:J,children:"Generate"}),Object(a.jsx)("div",{children:I?Object(a.jsx)("a",{download:"ctap_linear_template.m",href:R,className:e.downloadButton,children:" download "}):null})]}):null]}),Object(a.jsx)(W,{activeStep:l,handleBack:function(){d((function(e){return e-1}))},handleNext:function(){(function(){var e=!0,t={};if(0===l){for(var n=Object(j.a)({},U),a=0,c=Object.entries(n);a<c.length;a++){var i=Object(b.a)(c[a],2),r=i[0];i[1],null!==Y[r]&&0!==Y[r].length||(t="checkHydraTimeRange"===r&&Y.HydraOptionB||"checkHydraCleanSeed"===r&&Y.HydraOptionA?Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},r,!1)):Object(j.a)(Object(j.a)({},t),{},Object(f.a)({},r,!0)))}e=Object.values(t).every((function(e){return!1===e})),M(Object(j.a)(Object(j.a)({},U),t))}return e})()?d((function(e){return e+1})):alert("check your input")},handleReset:function(){d(0)}})]})}var de=function(){return Object(a.jsx)(ee,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(l.a,{exact:!0,path:"/",component:le})})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};o.a.render(Object(a.jsx)(s.a,{children:Object(a.jsx)(de,{})}),document.getElementById("root")),ue()},94:function(e,t,n){},95:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.cc5b2cbb.chunk.js.map