(this["webpackJsonpctap-samplecode-generation"]=this["webpackJsonpctap-samplecode-generation"]||[]).push([[0],{91:function(e,t,n){},92:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),i=n.n(c),r=n(12),o=n.n(r),s=n(54),l=(n(91),n(92),n(55)),d=n.n(l),u=n(30),p=n(68),h=n(16),f=n(7),j=n(14),b=n(150),g=n(135),O=n(138),m=n(148),C=n(154),x=n(153),_=n(147),v=n(155),T=n(149),R=n(140),y=n(151),S=["chanlocs128_biosemi.elp","chanlocs128_biosemi_withEOG.elp","chanlocs128_cent.elp","chanlocs128_pist.elp","chanlocs160_biosemi.elp","chanlocs16_biosemi.elp","chanlocs16_biosemi_withEOG.elp","chanlocs256_biosemi.elp","chanlocs256_biosemi_withEOG.elp","chanlocs32_biosemi.elp","chanlocs64_biosemi.elp","chanlocs64_biosemi_withEOG.elp","channel_locations_acticap_32.ced"],k=Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"35ch"}},words:{textAlign:"center"}}})),A=function(e){var t=e.inputValue,n=e.setBasicInfoInput,i=e.basicInfoInputCheck,r=e.setBasicInfoInputCheck,o=k(),s=Object(c.useState)(t.eegChanloc),l=Object(j.a)(s,2),d=l[0],u=l[1];Object(c.useEffect)((function(){n(Object(f.a)(Object(f.a)({},t),{},{eegChanloc:d})),r(Object(f.a)(Object(f.a)({},i),{},{eegChanloc:!1}))}),[d]);var p=function(e){var a=e.target,c=a.name,o=a.value;n(Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},c,o))),r(Object(f.a)(Object(f.a)({},i),{},Object(h.a)({},c,!1)))},b=function(e){"checkedLinear"===e.target.name?n(Object(f.a)(Object(f.a)({},t),{},{checkedLinear:e.target.checked,checkedBranch:!e.target.checked})):"checkedBranch"===e.target.name?n(Object(f.a)(Object(f.a)({},t),{},{checkedBranch:e.target.checked,checkedLinear:!e.target.checked})):n(Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},e.target.name,e.target.checked)))},g=function(e){if(console.log(e.target.name),"checkTimeRange"===e.target.name){var a={};a=Object(f.a)(Object(f.a)({},a),{},{HydraOptionA:e.target.checked,HydraOptionB:!e.target.checked}),e.target.checked&&(console.log(e.target.checked),a=Object(f.a)(Object(f.a)({},a),{},{checkHydraCleanSeed:""}),r(Object(f.a)(Object(f.a)({},i),{},{checkHydraCleanSeed:!1}))),n(Object(f.a)(Object(f.a)({},t),a))}else{var c={};c=Object(f.a)(Object(f.a)({},c),{},{HydraOptionB:e.target.checked,HydraOptionA:!e.target.checked}),e.target.checked&&(console.log(t),c=Object(f.a)(Object(f.a)({},c),{},{checkHydraTimeRange:""}),r(Object(f.a)(Object(f.a)({},i),{},{checkHydraTimeRange:!1}))),n(Object(f.a)(Object(f.a)({},t),c))}};return Object(a.jsxs)("form",{className:o.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsxs)(O.a,{maxWidth:"sm",children:[Object(a.jsx)("h4",{children:"What type of pipeline* you would like to generate?"}),Object(a.jsx)(R.a,{control:Object(a.jsx)(y.a,{checked:t.checkedLinear,onChange:b,name:"checkedLinear"}),label:"Linear Pipeline"}),Object(a.jsx)(R.a,{control:Object(a.jsx)(y.a,{checked:t.checkedBranch,onChange:b,name:"checkedBranch"}),label:"Branch Pipeline"}),Object(a.jsx)("h5",{className:o.words,children:"* linear pipeline using different setpSets to group CTAP functions, the processing sequence depends on setpSets order. Branch pipeline generates sub-functions including predefined executable CTAP functions, which provides a more clear and flexible modular way to group functions. "}),Object(a.jsxs)("div",{children:[Object(a.jsx)(R.a,{control:Object(a.jsx)(y.a,{checked:t.checkedHYDRA,onChange:b,name:"checkedHYDRA"}),label:"Implementing HYDRA for artifacts parameter optimization or not?"}),t.checkedHYDRA?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(R.a,{control:Object(a.jsx)(y.a,{checked:t.HydraOptionA,onChange:g,name:"checkTimeRange"}),label:"Provide clean data time-range"}),Object(a.jsx)(R.a,{control:Object(a.jsx)(y.a,{checked:t.HydraOptionB,onChange:g,name:"checkCleanSeed"}),label:"Provide clean seed data"}),t.HydraOptionA?Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{error:i.checkHydraTimeRange,id:"checkHydraTimeRange",name:"checkHydraTimeRange",label:"Time Range",value:t.checkHydraTimeRange,onChange:function(e){return p(e)},type:"text",helperText:i.checkHydraTimeRange?"The field cannot be empty. Please enter a value":"Set clean segment time range [start end] in seconds from test data",variant:"outlined"})}):null,t.HydraOptionB?Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{error:i.checkHydraCleanSeed,id:"checkHydraTimeRange",name:"checkHydraCleanSeed",label:"Seed Data Name",value:t.checkHydraCleanSeed,onChange:function(e){return p(e)},type:"text",helperText:i.checkHydraCleanSeed?"The field cannot be empty. Please enter a value":"Name of the clean seed data file extract from test data",variant:"outlined"})}):null]})}):null,Object(a.jsx)("hr",{})]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Basic setting begin"}),Object(a.jsx)(v.a,{error:i.pipelineName,id:"pipelineName",name:"pipelineName",label:"Pipeline Name",value:t.pipelineName,onChange:function(e){return p(e)},type:"text",helperText:i.pipelineName?"The field cannot be empty. Please enter a value":"Name a folder which contains outputs of pipes",variant:"outlined"})]}),Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{error:i.projectRoot,id:"projectRoot",name:"projectRoot",label:"Project Root",value:t.projectRoot,onChange:function(e){return p(e)},type:"text",helperText:i.projectRoot?"The field cannot be empty. Please enter a value":"The root directory of the current analysis.",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{error:i.sbj_filt,id:"sbj_filt",name:"sbj_filt",label:"EEG File Name Sequence",value:t.sbj_filt,onChange:function(e){return p(e)},type:"text",helperText:i.sbj_filt?"The field cannot be empty. Please enter a value":"The unique sequence number in EEG dataset name(sbj_filt)",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{error:i.eegType,id:"eegType",name:"eegType",label:"EEG Data Type",value:t.eegType,onChange:function(e){return p(e)},type:"text",helperText:i.eegType?"The field cannot be empty. Please enter a value":"EEG Data Type, eg, *.set/*.bdf",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(T.a,{value:t.eegChanloc,onChange:function(e,t){u(t)},id:"controllable-states-demo",options:S,renderInput:function(e){return Object(a.jsx)(v.a,Object(f.a)(Object(f.a)({},e),{},{error:i.eegChanloc,helperText:i.eegChanloc?"The field cannot be empty. Please enter a value":"Channel Location of testing EEG data ",label:"EEG Data Channel Location",variant:"outlined"}))}})}),Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{error:i.eegReference,id:"eegReference",name:"eegReference",label:"EEG Data Reference Channel",value:t.eegReference,onChange:function(e){return p(e)},type:"text",helperText:i.eegReference?"The field cannot be empty. Please enter a value":"Reference channel of testing EEG data,  eg, {'L_MASTOID' 'R_MASTOID'}",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{error:i.eegVeogChannelNames,id:"eegVeogChannelNames",name:"eegVeogChannelNames",label:"VEOG Channel Names",value:t.eegVeogChannelNames,onChange:function(e){return p(e)},type:"text",helperText:i.eegVeogChannelNames?"The field cannot be empty. Please enter a value":"VEOG Channel Names of testing EEG data, required if performing blinks detection, eg, {'VEOG1','VEOG2'}",variant:"outlined"})}),Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{error:i.eegHeogChannelNames,id:"eegHeogChannelNames",name:"eegHeogChannelNames",label:"HEOG Channel Names",value:t.eegHeogChannelNames,onChange:function(e){return p(e)},type:"text",helperText:i.eegHeogChannelNames?"The field cannot be empty. Please enter a value":"HEOG Channel Names of testing EEG data, required if performing blinks detection, eg, {'HEOG1','HEOG2'}",variant:"outlined"})})]})},E=function(e,t){var n=new Array([]),a=new Array([]),c=new Array([]);return e.checkedHYDRA&&(c.push("HYDRA = true;"),c.push("PARAM = param_sweep_setup(project_dir);"),c.push("Cfg.HYDRA.ifapply = HYDRA;"),c.push("Cfg.HYDRA.chanloc = '".concat(e.eegChanloc,"';")),c.push("Cfg.HYDRA.PARAM = PARAM;"),c.push("Cfg.HYDRA.FULL_CLEAN_SEED = false;"),e.checkHydraTimeRange&&!e.checkHydraCleanSeed?(c.push("Cfg.HYDRA.provide_seed_timerange = true;"),c.push("Cfg.HYDRA.cleanseed_timerange = ".concat(e.checkHydraTimeRange,";"))):e.checkHydraCleanSeed&&!e.checkHydraTimeRange&&(c.push("Cfg.HYDRA.provide_seed_timerange = false;"),c.push("Cfg.HYDRA.seed_fname = ".concat(e.checkHydraCleanSeed,";")))),t.forEach((function(e,t){var c="";e.funcsSettings.forEach((function(e){c+="@".concat(e.funcName,", ");var t=e.funcName;t&&(t=t.slice(5,t.length)),n.push("out.".concat(t,"=struct(").concat(e.funcP,")"))})),a.push("stepSet(".concat(t+1,").id = [num2str(").concat(t+1,"), '").concat(e.stepID,"'];")),a.push("stepSet(".concat(t+1,").funH{").concat(c,"};"))})),new Array("pipeline_name = '".concat(e.pipelineName,"';"),"FILE_ROOT = mfilename('fullpath');","reporoot = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap', 'templates', '".concat(e.projectRoot,"', 'ctap_linear_template')) - 1);"),"project_dir = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap_linear_template')) - 1);","data_dir = append(reporoot,'ctap/data/test_data');","Cfg.env.paths = cfg_create_paths(project_dir, pipeline_name, {''}, 1);","Cfg.eeg.chanlocs = '".concat(e.eegChanloc,"';"),"Cfg.eeg.reference = ".concat(e.eegReference,";"),"Cfg.eeg.veogChannelNames = ".concat(e.eegVeogChannelNames,";"),"Cfg.eeg.heogChannelNames = ".concat(e.eegHeogChannelNames,";"),"Cfg.grfx.on = false;","Cfg.MC = get_meas_cfg_MC(Cfg, data_dir, 'eeg_ext', '".concat(e.eegType,"', 'sbj_filt', ").concat(e.sbj_filt,");"),"".concat(c.join("\n")),"clear Pipe;","".concat(a.join("\n")),"".concat([n.join("\n")]),"Cfg.pipe.stepSets = stepSet;","Cfg.pipe.runSets = {stepSet(1).id};","Cfg = ctap_auto_config(Cfg, out);","%% Run the pipe","CTAP_pipeline_looper(Cfg, 'debug', DEBUG, 'overwrite', true);","clear i stepSet Filt ctap_args")},H=n(5),P=n(102),D=n(4),N=n(145),I=n(146),L=n(152),w=n(70),B=n.n(w),Y=n(100),F=Object(H.a)({alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:"#784af4"}},completed:{"& $line":{borderColor:"#784af4"}},line:{borderColor:"#eaeaf0",borderTopWidth:3,borderRadius:1}})(P.a),G=Object(g.a)({root:{color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},active:{color:"#784af4"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#784af4",zIndex:1,fontSize:18}});function V(e){var t=G(),n=e.active,c=e.completed;return Object(a.jsx)("div",{className:Object(D.a)(t.root,Object(h.a)({},t.active,n)),children:c?Object(a.jsx)(B.a,{className:t.completed}):Object(a.jsx)("div",{className:t.circle})})}var U=Object(g.a)((function(e){return{root:{width:"100%"},button:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));var M=function(e){var t=e.activeStep,n=e.handleReset,c=e.handleBack,i=e.handleNext,r=U(),o=["Basic settings","Pipe config","Review and download"];return Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(N.a,{alternativeLabel:!0,activeStep:t,connector:Object(a.jsx)(F,{}),children:o.map((function(e){return Object(a.jsx)(I.a,{children:Object(a.jsx)(L.a,{StepIconComponent:V,children:e})},e)}))}),Object(a.jsx)("div",{children:t===o.length?Object(a.jsxs)("div",{children:[Object(a.jsx)(Y.a,{className:r.instructions,children:"All steps completed - you're finished"}),Object(a.jsx)(_.a,{onClick:n,className:r.button,children:"Reset"})]}):Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[Object(a.jsx)(_.a,{disabled:0===t,onClick:c,className:r.button,children:"Back"}),Object(a.jsx)(_.a,{variant:"contained",color:"primary",onClick:i,className:r.button,children:t===o.length-1?"Finish":"Next"})]})})})]})},W=n(141),q=n(71),J=n.n(q),z=n(72),$=n.n(z),K=[{id:Object(b.a)(),subf_srcid:"",subfID:"",stepID:"",funcsSettings:[{fid:Object(b.a)(),funcName:"",funcP:""}]}],Q=function(e,t){switch(t.type){case"UPDATE_STEPSETS":return t.data;default:return e}},X=Object(c.createContext)(K),Z=function(e){var t=e.children,n=Object(c.useReducer)(Q,K),i=Object(j.a)(n,2),r=i[0],o=i[1];return Object(a.jsx)(X.Provider,{value:[r,o],children:t})},ee=["CTAP_load_data","CTAP_load_chanlocs","CTAP_reref_data","CTAP_blink2event","CTAP_peek_data","CTAP_fir_filter","CTAP_run_ica","CTAP_detect_bad_comps","CTAP_reject_data","CTAP_detect_bad_channels","CTAP_interp_chan","CTAP_detect_bad_segments"],te=function(e){var t=e.indexm,n=e.funcsSettings,r=e.classes,o=e.mid,s=Object(c.useContext)(X),l=Object(j.a)(s,2),d=l[0],p=l[1],g=i.a.useState(null),O=Object(j.a)(g,2),m=(O[0],O[1]),C=function(e,t,n){var a=Object(u.a)(d),c=a.findIndex((function(e){return e.id===o})),i=a[c].funcsSettings.map((function(a){return e===a.fid&&(a[t]=n),a}));a[c].funcsSettings=i,p({type:"UPDATE_STEPSETS",data:a})};return Object(a.jsx)("form",{className:r.root,children:n.map((function(e,c){var i;return Object(a.jsxs)("div",{children:[Object(a.jsx)(T.a,(i={id:"funcName"+c,value:d[t].funcsSettings[c].funcName,onChange:function(t,n){m(n),C(e.fid,"funcName",n)}},Object(h.a)(i,"id","controllable-states-demo"),Object(h.a)(i,"options",ee),Object(h.a)(i,"renderInput",(function(e){return Object(a.jsx)(v.a,Object(f.a)(Object(f.a)({},e),{},{label:"Function Name",variant:"outlined"}))})),i)),Object(a.jsx)(v.a,{id:"funcP"+c,name:"funcP",label:"Function Parameters",variant:"filled",value:d[t].funcsSettings[c].funcP,helperText:"check docs for parameters supported for each func, input in 'pName', p, eg.('method', 'fastica', 'overwrite', true). All the string input need single-quote:'input' ",onChange:function(t){return C(e.fid,t.target.name,t.target.value)}}),Object(a.jsx)(W.a,{disabled:1===n.length,onClick:function(){return function(e){var t=Object(u.a)(d),n=t.findIndex((function(e){return e.id===o})),a=t[n].funcsSettings.findIndex((function(t){return t.fid===e}));t[n].funcsSettings.splice(a,1),p({type:"UPDATE_STEPSETS",data:t})}(e.fid)},children:Object(a.jsx)(J.a,{})}),Object(a.jsx)(W.a,{onClick:function(){return function(){var e=Object(u.a)(d),t=e.findIndex((function(e){return e.id===o}));e[t].funcsSettings.push({fid:Object(b.a)(),functionName:"",functionP:""}),p({type:"UPDATE_STEPSETS",data:e})}()},children:Object(a.jsx)($.a,{})})]},e.fid)}))})},ne=Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"50ch"}},button:{margin:e.spacing(1)}}})),ae=function(e){var t=e.handleLinearPipesInput,n=ne(),i=Object(c.useContext)(X),r=Object(j.a)(i,2),o=r[0];r[1];return Object(a.jsx)(O.a,{maxWidth:"sm",children:Object(a.jsx)("form",{className:n.root,children:o.map((function(e,c){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h4",{children:["stepSet ",c+1]}),Object(a.jsx)(v.a,{name:"stepID",label:"stepID",variant:"filled",helperText:"describe main work in this stepSet, eg.'_load'",value:e.stepID,onChange:function(n){return t(e.id,n)}}),Object(a.jsx)(te,{indexm:c,classes:n,mid:e.id,funcsSettings:e.funcsSettings})]},e.id)}))})})},ce=Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}}}})),ie=function(e){var t=e.handleLinearPipesInput,n=ce(),i=Object(c.useContext)(X),r=Object(j.a)(i,2),o=r[0];r[1];return Object(a.jsx)(O.a,{maxWidth:"sm",children:Object(a.jsx)("form",{className:n.root,children:o.map((function(e,c){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h4",{children:["Pipe-segment ",c+1]}),Object(a.jsx)(v.a,{name:"stepID",label:"Subfunction Description Label",variant:"filled",helperText:"describe main work in this sub function, eg.'_load'",value:e.stepID,onChange:function(n){return t(e.id,n)}}),Object(a.jsx)("h5",{children:"Define hierarchy"}),Object(a.jsx)(v.a,{name:"subfID",label:"Subfunction ID",variant:"filled",helperText:"ID of this subfunction, eg.'pipe2'",value:e.subfID,onChange:function(n){return t(e.id,n)}}),Object(a.jsx)(v.a,{name:"subf_srcid",label:"Subfunction Srcid",variant:"filled",helperText:"Describe the hierarchy relationship between other subfunction, you should input [Set Function ID] of the previously executed pipe, for example, if the current subfunc runs after pipe2, then the input should be 'pipe2', the first subfunc doesn't need this, leave it empty is ok.",value:e.subf_srcid,onChange:function(n){return t(e.id,n)}}),Object(a.jsx)("h5",{children:"Define pipeline"}),Object(a.jsx)(te,{indexm:c,classes:n,mid:e.id,funcsSettings:e.funcsSettings})]},e.id)}))})})},re=function(e,t){var n=new Array([]),a="",c={},i=new Array([]);return e.checkedHYDRA&&(n.push("HYDRA = true;"),n.push("PARAM = param_sweep_setup(project_dir);"),n.push("Cfg.HYDRA.ifapply = HYDRA;"),n.push("Cfg.HYDRA.chanloc = '".concat(e.eegChanloc,"';")),n.push("Cfg.HYDRA.PARAM = PARAM;"),n.push("Cfg.HYDRA.FULL_CLEAN_SEED = false;"),e.checkHydraTimeRange&&!e.checkHydraCleanSeed?(n.push("Cfg.HYDRA.provide_seed_timerange = true;"),n.push("Cfg.HYDRA.cleanseed_timerange = ".concat(e.checkHydraTimeRange,";"))):e.checkHydraCleanSeed&&!e.checkHydraTimeRange&&(n.push("Cfg.HYDRA.provide_seed_timerange = false;"),n.push("Cfg.HYDRA.seed_fname = ".concat(e.checkHydraCleanSeed,";")))),t.forEach((function(e,t){var n,r=new Array([]),o=new Array([]),s="",l="@sbf_"+e.subfID+", ";console.log(l),a+=l,0==t?(c[e.subfID]={0:"".concat(1,e.stepID),1:""},n=""):(c[e.subfID]={0:"".concat(1,e.stepID),1:"".concat(c[e.subf_srcid][1],e.subf_srcid,"#")},n="".concat(c[e.subfID][1],c[e.subf_srcid][0])),console.log(n),e.funcsSettings.forEach((function(e){s+="@".concat(e.funcName,", ");var t=e.funcName;t&&(t=t.slice(5,t.length)),o.push("out.".concat(t,"=struct(").concat(e.funcP,")"))})),r.push("stepSet(".concat(t+1,").id = [num2str(").concat(t+1,"), '").concat(e.stepID,"'];")),r.push("stepSet(".concat(t+1,").funH{").concat(s,"};")),console.log([r.join("\n")]),console.log(o);var d=new Array("function [Cfg, out] = sbf_".concat(e.subfID,"(Cfg)"),"   %%%%%%%% Define hierarchy %%%%%%%%","   Cfg.id = '".concat(e.subfID,"';"),"   Cfg.srcid = {".concat(n,"};"),"   %%%%%%%% Define pipeline %%%%%%%%","   i = 1; %stepSet 1","   ".concat(r.join("\n")),"   ","   ".concat([o.join("\n")]),"   Cfg.pipe.runSets = {stepSet(:).id};","   Cfg.pipe.stepSets = stepSet;","end");i.push("".concat(d.join("\n")))})),a="pipeArr = {".concat(a,"};"),new Array("pipeline_name = '".concat(e.pipelineName,"';"),"FILE_ROOT = mfilename('fullpath');","reporoot = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap', 'templates', '".concat(e.projectRoot,"', 'ctap_linear_template')) - 1);"),"project_dir = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap_linear_template')) - 1);","data_dir = append(reporoot,'ctap/data/test_data');","PREPRO = true;","STOP_ON_ERROR = false;","OVERWRITE_OLD_RESULTS = true;","[Cfg, ~] = sbf_cfg(project_dir, pipeline_name);","Cfg.grfx.on = false;","Cfg.MC = get_meas_cfg_MC(Cfg, data_dir, 'eeg_ext', '".concat(e.eegType,"', 'sbj_filt', ").concat(e.sbj_filt,");"),"".concat(n.join("\n")),"clear Pipe;","".concat(a),"runps = 1:length(pipeArr);","if PREPRO","   CTAP_pipeline_brancher(Cfg, pipeArr, 'runPipes', runps, 'dbg', STOP_ON_ERROR, 'ovw', OVERWRITE_OLD_RESULTS);","end","%% Subfunctions","function [Cfg, out] = sbf_cfg(project_root_folder, ID)","   Cfg.id = ID;","   Cfg.srcid = {''};","   Cfg.env.paths.projectRoot = project_root_folder;","   % Define important directories and files","   Cfg.env.paths.branchSource = '';","   Cfg.env.paths.ctapRoot = fullfile(Cfg.env.paths.projectRoot, Cfg.id);","   Cfg.env.paths.analysisRoot = Cfg.env.paths.ctapRoot;","   Cfg.eeg.chanlocs = '".concat(e.eegChanloc,"';"),"   Cfg.eeg.reference = ".concat(e.eegReference,";"),"   Cfg.eeg.veogChannelNames = ".concat(e.eegVeogChannelNames,";"),"   Cfg.eeg.heogChannelNames = ".concat(e.eegHeogChannelNames,";"),"   out = struct([]);","end","".concat(i.join("\n")))},oe=Object(g.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:200},selectEmpty:{marginTop:e.spacing(2)},button:{margin:e.spacing(2)}}}));function se(){var e=oe(),t=Object(c.useContext)(X),n=Object(j.a)(t,2),i=n[0],r=n[1],o=Object(c.useState)(0),s=Object(j.a)(o,2),l=s[0],g=s[1],v=Object(c.useState)(""),T=Object(j.a)(v,2),R=T[0],y=T[1],S=Object(c.useState)(1),k=Object(j.a)(S,2),H=k[0],P=k[1],D=Object(c.useState)(!1),N=Object(j.a)(D,2),I=N[0],L=N[1],w=Object(c.useReducer)((function(e,t){return Object(f.a)(Object(f.a)({},e),t)}),{checkedLinear:!0,checkedBranch:!1,checkedHYDRA:!0,HydraOptionA:!0,HydraOptionB:!1,checkHydraTimeRange:"",checkHydraCleanSeed:"",pipelineName:"",projectRoot:"",sbj_filt:"",eegType:"",eegChanloc:"",eegReference:"",eegVeogChannelNames:"",eegHeogChannelNames:""}),B=Object(j.a)(w,2),Y=B[0],F=B[1],G=Object(c.useReducer)((function(e,t){return Object(f.a)(Object(f.a)({},e),t)}),{checkHydraTimeRange:!1,checkHydraCleanSeed:!1,pipelineName:!1,projectRoot:!1,sbj_filt:!1,eegType:!1,eegChanloc:!1,eegReference:!1,eegVeogChannelNames:!1,eegHeogChannelNames:!1}),V=Object(j.a)(G,2),U=V[0],W=V[1];Object(c.useEffect)((function(){y(""),L(!1)}),[Y.checkedLinear]),Object(c.useEffect)((function(){localStorage.getItem("basicInfoInput")&&F(JSON.parse(localStorage.getItem("basicInfoInput")))}),[]),Object(c.useEffect)((function(){localStorage.setItem("basicInfoInput",JSON.stringify(Y))}),[Y]);var q=function(e,t){var n;n=e.checkedLinear?E(e,t):re(e,t);var a=new Blob([n.join("\n")],{type:"text/plain"});return""!==R&&window.URL.revokeObjectURL(R),window.URL.createObjectURL(a)};function J(){return z.apply(this,arguments)}function z(){return(z=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(Y,i);case 2:t=e.sent,y(t),L(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(e,t){var n=i.map((function(n){return e===n.id&&(n[t.target.name]=t.target.value),n}));r({type:"UPDATE_STEPSETS",data:n})};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:"CTAP Code Generation Tool"}),0===l?Object(a.jsx)(A,{inputValue:Y,setBasicInfoInput:F,basicInfoInputCheck:U,setBasicInfoInputCheck:W}):1===l?Object(a.jsxs)(O.a,{children:[Y.checkedLinear?Object(a.jsx)("h1",{children:"Linear Pipeline Setting"}):Object(a.jsx)("h1",{children:"Branch Pipeline Setting"}),Object(a.jsxs)(x.a,{variant:"outlined",className:e.formControl,children:[Object(a.jsx)(C.a,{children:"stepSet number"}),Object(a.jsx)(m.a,{native:!0,value:H,onChange:function(e){return function(e){var t=e.target,n=(t.name,t.value);if(H<n){for(var a=Object(u.a)(i),c=H;c<n;c++)a.push({id:Object(b.a)(),subf_srcid:"",subfID:"",stepID:"",funcsSettings:[{fid:Object(b.a)(),funcName:"",funcP:""}]});r({type:"UPDATE_STEPSETS",data:a}),P(n)}else if(H>n&&n>=1){console.log(n),console.log(H),console.log(i);for(var o=Object(u.a)(i),s=0;s<H-n;s++)o.pop();console.log(o),r({type:"UPDATE_STEPSETS",data:o}),P(n)}}(e)},label:"stepSet number",inputProps:{name:"stepNum"},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))})]}),Y.checkedLinear?Object(a.jsx)(ae,{handleLinearPipesInput:$,handleSubmit:J}):Object(a.jsx)(ie,{handleLinearPipesInput:$,handleSubmit:J})]}):2===l?Object(a.jsxs)("div",{children:[Object(a.jsx)(_.a,{className:e.button,variant:"contained",color:"primary",type:"submit",onClick:J,children:"Generate"}),Object(a.jsx)("div",{children:I?Object(a.jsx)("a",{download:"ctap_linear_template.m",href:R,className:e.downloadButton,children:" download "}):null})]}):null]}),Object(a.jsx)(M,{activeStep:l,handleBack:function(){g((function(e){return e-1}))},handleNext:function(){(function(){var e=!0,t={};if(0===l){for(var n=Object(f.a)({},U),a=0,c=Object.entries(n);a<c.length;a++){var i=Object(j.a)(c[a],2),r=i[0];i[1],null!==Y[r]&&0!==Y[r].length||(t="checkHydraTimeRange"===r&&Y.HydraOptionB||"checkHydraCleanSeed"===r&&Y.HydraOptionA?Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},r,!1)):Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},r,!0)))}e=Object.values(t).every((function(e){return!1===e})),W(Object(f.a)(Object(f.a)({},U),t))}return e})()?g((function(e){return e+1})):alert("check your input")},handleReset:function(){g(0)}})]})}var le=function(){return Object(a.jsx)(Z,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(se,{})})})},de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,157)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};o.a.render(Object(a.jsx)(s.a,{children:Object(a.jsx)(le,{})}),document.getElementById("root")),de()}},[[99,1,2]]]);
//# sourceMappingURL=main.776500fb.chunk.js.map